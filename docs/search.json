---
title: search
layout: none
search: exclude
---
{% capture comma %},
{% endcapture %}
[
{%- assign sorted_pages = site.pages | sort: "path" | where_exp:"item", "item.search != 'exclude'" -%}
{%- for page in sorted_pages -%}
    {%- if page.permalink contains "pmd_rules_" and page.keywords -%}
      {%- assign rules = page.keywords | split: ", " -%}
      {%- assign ruleset = rules[0] -%}
{
  "type": "ruledoc ruleset",
  "source": "{{ page.path }}",
  "title": "{{ ruleset | escape | escape_json }} ({{page.language}}, {{page.title}})",
  "tags": "{{ page.tags | escape_json }}",
  "keywords": "{{ ruleset | escape_json }}",
  "url": "{{ page.url | remove: "/"}}",
  "summary": "{{ page.summary | strip | escape_json | default: ' ' }}"
},
        {%- for rule in rules offset:1 -%}
{
  "type": "ruledoc",
  "source": "{{ page.path }}",
  "title": "{{ rule | escape | escape_json }} ({{page.language}}, {{page.title}})",
  "tags": "{{ page.tags | escape_json }}",
  "keywords": "{{ rule | separate_words | escape_json }}",
  "url": "{{ page.url | remove: "/"}}#{{ rule | downcase }}",
  "summary": "{{ page.rules[rule] | truncatewords: 15 | strip | escape_json | default: ' ' }}"
}
        {%- unless forloop.last -%}{{ comma }}{%- endunless -%}
      {%- endfor -%}
    {%- else -%}
{
  "type": "page",
  "source": "{{ page.path }}",
  "title": "{{ page.title | escape | escape_json }}",
  "tags": "{{ page.tags | escape_json }}",
  "keywords": "{{ page.keywords | escape_json }}",
  "url": "{{ page.url | remove: "/"}}",
  "summary": "{{ page.summary | strip | escape_json | default: ' ' }}"
}
    {%- endif -%}
    {%- unless forloop.last or site.posts.size > 0 -%}{{ comma }}{%- endunless -%}
{%- endfor -%}
{%- for post in site.posts -%}
{
  "type": "post",
  "source": "{{ post.path }}",
  "title": "{{ post.title | escape | escape_json }}",
  "tags": "{{ post.tags  | escape_json }}",
  "keywords": "{{ post.keywords | escape_json }}",
  "url": "{{ post.url | remove: "/" }}",
  "summary": "{{ post.summary | strip | escape_json | default: ' ' }}"
}
  {%- unless forloop.last -%}{{ comma }}{%- endunless -%}
{%- endfor -%}
]
